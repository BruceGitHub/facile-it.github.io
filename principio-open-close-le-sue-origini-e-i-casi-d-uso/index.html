<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Il principio OPEN/CLOSE le sue origini e i casi d&#39;uso &middot;  Facile.it Engineering" />
  	<meta property="og:site_name" content="Facile.it Engineering" />
  	<meta property="og:url" content="/principio-open-close-le-sue-origini-e-i-casi-d-uso" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2015-04-15T00:00:00Z" />

    
    <meta property="og:article:tag" content="SOLID" />
    
    <meta property="og:article:tag" content="PHP" />
    
    <meta property="og:article:tag" content="Design patterns" />
    
    

  <title>
     Il principio OPEN/CLOSE le sue origini e i casi d&#39;uso &middot;  Facile.it Engineering
  </title>

    <meta name="description" content="News, repos, tips &amp; trends from the Facile.it Engineering team!" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/images/favicon.ico">
	  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />


    
      
          <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Facile.it Engineering" />
      
      
    
    <meta name="generator" content="Hugo 0.15" />

    <link rel="canonical" href="/principio-open-close-le-sue-origini-e-i-casi-d-uso" />

    
    <script>
        
        if (window.location.hostname != "localhost") {
            var _gaq = _gaq || [];
            var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';

            _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
            _gaq.push(['_setAccount', '{.}']);
            _gaq.push(['_gat._anonymizeIp']);
            _gaq.push(['_setDomainName','.facile.it']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        }
    </script>
    

    

    <link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/default.min.css">
    <script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
    </ul>
    
    
    <a class="subscribe-button icon-feed" href="/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="/"><img src="/images/logo.png" alt="Home" /></a>
  
  
      <a class="menu-button icon-feed" href="/index.xml">&nbsp;&nbsp;Subscribe</a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Il principio OPEN/CLOSE le sue origini e i casi d&#39;uso</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2015-04-15T00:00:00Z">
            Apr 15, 2015
          </time>
        
         
          <span class="post-tag small"><a href="/tags/solid/">#SOLID</a></span>
         
          <span class="post-tag small"><a href="/tags/php/">#PHP</a></span>
         
          <span class="post-tag small"><a href="/tags/design-patterns/">#Design patterns</a></span>
         
        </section>
    </header>

    <section class="post-content">
      

<h2 id="definizione:2158d2691e7b8c89e6b543a68eaa5087">Definizione:</h2>

<p>Il principio <em>OPEN/CLOSE</em> fa riferimento all&rsquo;acronimo <a href="http://en.wikipedia.org/wiki/SOLID_(object-oriented_design">SOLID</a>).  introdotto da  Michael Feathers che riporta alcune <em>buone pratiche</em> di programmazione ad oggetti ancora di forte attualità.</p>

<p><em>OPEN/CLOSE</em> (la <strong>O</strong> dell&rsquo;acronimo), nella sua definizione più generale indica che:  un modulo (un oggetto, una classe o un gruppo di funzioni) debba essere <strong>aperto alle estensioni</strong> ma <strong>chiuso alle modifiche</strong>.</p>

<p>Questo principio tuttavia non è altro che la formalizzazione e il raggruppamento di concetti e linee guida già presenti da tempo nella programmazione ad oggetti.</p>

<h3 id="chiuso-alle-modifiche:2158d2691e7b8c89e6b543a68eaa5087">Chiuso alle modifiche</h3>

<p><strong><em>Chiuso alle modifiche che potrebbero aver effetto sul client</em></strong></p>

<p>Possiamo esprimere questa linea guida anche come  un evoluzione di Single responsibility: Un modulo prodotto con un buon design avrà una responsabilità precisa, definita e, quindi, non vi sarà la necessita di modificare il suo comportamento, <strong>anche alla luce di nuove specifiche</strong>.
Per chiarire ancora di più il concetto dobbiamo fare riferimento ad un altro famoso acronimo della programmazioni ad aggetti: GRASP e, in particolare, all&rsquo;idea di <a href="http://www.martinfowler.com/ieeeSoftware/protectedVariation.pdf">Protected Variations</a> (da ora in poi <em>PV</em>) e di <a href="http://en.wikipedia.org/wiki/Loose_coupling">Low coupling</a>.</p>

<p>In un articolo di <a href="http://en.wikipedia.org/wiki/Craig_Larman">Craig Larman</a> si parla di <em>PV</em> come la necessità di:</p>

<p><em>Nascondere l&rsquo;implementazione (<a href="http://en.wikipedia.org/wiki/Information_hiding">information hiding</a>) e le informazioni legate al design (hidden implementation) agli altri moduli in particolar modo al presentarsi di scelte difficili o cambiamenti molto frequenti.</em></p>

<p>Questo garantisce, in generale, un livello di flessibilità superiore, si pensi a questo semplice esempio:</p>

<pre><code>/** Questa classe è esposta al client **/
class ClasseEsterna 
{
  private var $oggettoInterno;

  public function incrementa()       {
    [...]           
    return $this-&gt;oggettoInterno-&gt;complessaFunzioneDiIncremento();
  }     
}
</code></pre>

<p>Si può notare come :</p>

<ul>
<li>L&rsquo;implementazione della <em>complessa</em> funzione interna è nascosta al client;</li>
<li>All&rsquo;evolvere della <strong>complessaFunzioneDiIncremento</strong> il nostro client sarà ==protetto== dalle modifiche;</li>
<li>Abbiamo realizzato un <em>low coupling</em> fra la l&rsquo;<strong>oggettoInterno</strong> e il client che utilizza la <strong>ClasseEsterna</strong>, promuovendo, di fatto, il ==riuso== di <strong>oggettoInterno</strong> in altri contesti.</li>
</ul>

<h3 id="aperto-alle-estensioni:2158d2691e7b8c89e6b543a68eaa5087">Aperto alle estensioni:</h3>

<p><strong><em>Aperto ad essere esteso ed adattato</em></strong></p>

<p>Le modalità tramite le quali è possibile modificare il comportamento di un modulo per accogliere le nuove esigenze ed evoluzioni è tramite le estensioni.</p>

<p>In questo caso il concetto di estensione può essere visto sia in senso stretto (Ereditarietà) sia in senso lato come aggiunta di nuove classi, attributi metodi etc..</p>

<p>Sembrerebbe che questi due attributi siano in contrapposizione; Il modo classico per estendere il comportamento di un modulo è effettuare modifiche al modulo stesso.
Un modulo che non può cambiare è solitamente considerato qualcosa che ha un comportamento fisso e che non può evolvere.</p>

<p>Un esempio è il pattern chain of responsibility che vediamo di seguito.</p>

<h3 id="chain-of-responsibility:2158d2691e7b8c89e6b543a68eaa5087">Chain of responsibility:</h3>

<p>Questo pattern risolve un’ampia classe di situazioni nelle quali vi sia la necessità di eseguire operazioni <strong>sequenziali</strong> e <strong>condizionali</strong>.</p>

<p>La chain of responsibility è composta da 2 soggetti:</p>

<ul>
<li><strong>1</strong> gestore.</li>
<li><strong>n</strong> anelli.</li>
</ul>

<p><strong>GESTORE:</strong></p>

<p>Nella definizione teorica della catena questo soggetto non esiste!
Tuttavia, per avvicinarci ad  un implementazione di questo pattern, è necessario utilizzare un vigile della catena che è a conoscenza dello stato globale dell’esecuzione.
Il gestore ha la responsabilità di chiamare in causa i singoli anelli e di restituire il risultato dell’esecuzione globale.</p>

<pre><code class="language-PHP">
class Gestore
{

    /**
     * Il metodo execute chiama in causa tutti gli anelli della catena.
     * @param Object $oggetto
     * @return Object
     **/
    public function execute(Object $oggetto)
    {

        // [...]

        foreach ($listaAnelli as $anello) {
            $anello-&gt;handle($oggetto);
        }

        // [...]

        return $oggetto;

    }


}

</code></pre>

<p><strong>ANELLI:</strong></p>

<p>I singoli anelli implementano un interfaccia comune che solitamente espone un solo metodo pubblico esempio <em>handle</em> .<strong>Non possono</strong> tener conto del risultato di precedenti anelli, non sono a conoscenza dello stato globale dell’esecuzione e possono, quindi, prendere solo decisioni locali.</p>

<pre><code class="language-PHP">interface AnelloInterface {

 /**
  * Il metodo handle effettua delle operazioni sull'oggetto in esame.
  * @param Object $oggetto
  * @return void
  **/
 function handle(Object $oggetto);

}
</code></pre>

<p><em>Come rispettiamo PV ? Ovvero, come proteggiamo il client da future evoluzione del sistema?</em></p>

<p>Il client utilizzerà sempre <strong>la stessa API</strong> esposta dal gestore della catena. Le modifiche non interesseranno, infatti, il contratto fra client e gestore.</p>

<p><em>Il sistema è aperto alle estensioni?</em></p>

<p>All&rsquo;evoluzione della catena verranno inseriti nuovi anelli che copriranno ulteriori casi d&rsquo;uso o funzionalità. Sebbene i nuovi anelli dovranno implementare la stessa interfaccia potranno avere una logica interna completamente personalizzabile.</p>

<p><em>Esiste una forte separazione fra i moduli del sistema?</em></p>

<p>Il low coupling in questa caso è garantito da 2 aspetti:</p>

<ul>
<li>Il client non conosce gli elementi della catena perché ha una relazione diretta solamente con il gestore.</li>
<li>È presente coesione fra l&rsquo;interfaccia dei singoli anelli e il gestore. Purché si rispetti questo contratto è possibile esprimere anche logiche complesse.</li>
</ul>

<h3 id="conclusione:2158d2691e7b8c89e6b543a68eaa5087">Conclusione:</h3>

<p>È necessario <strong>scegliere le proprie battaglie</strong> quando si parla di design, sia che si tratti di scelte macro-architetturali che piccole scelte sulla singola istanza.</p>

<p>I principi che non stati esposti non sono applicabili in tutte le situazioni, un bravo sviluppatore cercherà di utilizzare PV e low coupling in <strong>aree strategiche del sistema</strong>, <strong>spesso soggette a cambiamento</strong>.</p>

<p>Se non si riesce ad identificare correttamente queste aree non si farà altro che introdurre una maggiore complessità generale che, in certe situazioni può essere deleteria.</p>

<p>L&rsquo;obbiettivo finale dovrebbe essere sempre minimizzare l&rsquo;impatto sul sistema dei (naturali) cambiamenti; Open/Close PV e low coupling sono alcune delle strategie più efficaci.</p>

<h4 id="bibliografia:2158d2691e7b8c89e6b543a68eaa5087">Bibliografia</h4>

<ul>
<li>Craig Larman - <a href="http://www.utdallas.edu/~chung/SP/applying-uml-and-patterns.pdf">Applying UML and Patterns – An Introduction to Object-Oriented Analysis and Design and Iterative Development (3rd ed.)</a></li>
<li>Parnas, D.L. - <a href="https://www.cs.umd.edu/class/spring2003/cmsc838p/Design/criteria.pdf">&ldquo;On the Criteria To Be Used in Decomposing Systems into Modules&rdquo;.</a></li>
<li>Craig Larman - <a href="http://www.martinfowler.com/ieeeSoftware/protectedVariation.pdf">&ldquo;Protected Variation: The Importance of Being Closed&rdquo;</a></li>
<li>SIGS Publications - <a href="http://www.objectmentor.com/resources/articles/ocp.pdf">The Open-Closed Principle: C++ Report</a>
<a href="http://en.wikipedia.org/wiki/Information_hiding">Information Hiding</a></li>
</ul>

    </section>


  <footer class="post-footer">

    
    
    
    
        <figure class="author-image">
          <a class="img" href="http://www.facile.it" style="background-image: url(http://www.gravatar.com/avatar/f9165b8e5ecdac3c7545b65d3e559535?d=404&amp;s=250)"><span class="hidden">Francesco Panina's Picture</span></a>
        </figure>
    

    





<section class="author">
  <h4><a href="/">Francesco Panina</a></h4>
  
  <p>Symfony2 web developer, computer science passionate, retired netgaming nerd</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Milano, Italy</span>
    <span class="author-link icon-link"><a href="http://www.facile.it">http://www.facile.it</a></span>
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Il%20principio%20OPEN%2fCLOSE%20le%20sue%20origini%20e%20i%20casi%20d%27uso&amp;url=%2fprincipio-open-close-le-sue-origini-e-i-casi-d-uso"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=%2fprincipio-open-close-le-sue-origini-e-i-casi-d-uso"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=%2fprincipio-open-close-le-sue-origini-e-i-casi-d-uso&amp;description=Il%20principio%20OPEN%2fCLOSE%20le%20sue%20origini%20e%20i%20casi%20d%27uso"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=%2fprincipio-open-close-le-sue-origini-e-i-casi-d-uso"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'facile-it';
  var disqus_url = '\/principio-open-close-le-sue-origini-e-i-casi-d-uso';
  (function() {
    
    if (window.location.hostname != "engineering.facile.it")
      return;
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Facile.it Engineering</a> All rights reserved - 2016</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/js/index.js"></script>
    
</body>
</html>

