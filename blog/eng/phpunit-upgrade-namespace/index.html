<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>How to gradually upgrade toward PHPUnit 6 with namespaced classes</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.16" />
        


        
        
            
                <meta name="description" content="News, repos, tips &amp; trends from the Facile.it Engineering team!">
            
        

        
    
        <meta name="twitter:card" content="summary"/>
        
            <meta name="twitter:image:src" content="https://engineering.facile.it/images/social/twitter-card-logo.png"/>
        
    
    
    <meta name="twitter:title" content="How to gradually upgrade toward PHPUnit 6 with namespaced classes"/>
    <meta name="twitter:description" content="In the latest months I wrote multiple times, in different projects, code migrating PHPUnit toward major version 6. This upgrade is harder than the previous one, since in this version it was introduced a big breaking change: all classes got (finally!) namespaced. This means that any usage of those classes in your project needs to be updated. It may seem a simple find &amp; replace job, but since you need to introduce at least one use PHPUnit\Framework\TestCase line at the top of each one of your test classes, it&rsquo;s a boring and a little more than trivial task; also, upgrading it in a single big jump may not be feasible or prudent, especially in the case of open source or distributed libraries, where backward compatibility and support for old PHP versions must be ensured."/>
    
        
            <meta name="twitter:creator" content="@AlessandroLai"/>
        
    


<meta name="twitter:site" content="@FacileIt_Engr"/>


        <meta property="og:title" content="How to gradually upgrade toward PHPUnit 6 with namespaced classes" />
<meta property="og:description" content="In the latest months I wrote multiple times, in different projects, code migrating PHPUnit toward major version 6. This upgrade is harder than the previous one, since in this version it was introduced a big breaking change: all classes got (finally!) namespaced. This means that any usage of those classes in your project needs to be updated. It may seem a simple find &amp; replace job, but since you need to introduce at least one use PHPUnit\Framework\TestCase line at the top of each one of your test classes, it&rsquo;s a boring and a little more than trivial task; also, upgrading it in a single big jump may not be feasible or prudent, especially in the case of open source or distributed libraries, where backward compatibility and support for old PHP versions must be ensured." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://engineering.facile.it/blog/eng/phpunit-upgrade-namespace/" />


<meta property="og:updated_time" content="2017-09-12T00:00:00&#43;00:00"/>










        <meta property="og:image" content="https://engineering.facile.it/images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        
<meta itemprop="name" content="How to gradually upgrade toward PHPUnit 6 with namespaced classes">
<meta itemprop="description" content="In the latest months I wrote multiple times, in different projects, code migrating PHPUnit toward major version 6. This upgrade is harder than the previous one, since in this version it was introduced a big breaking change: all classes got (finally!) namespaced. This means that any usage of those classes in your project needs to be updated. It may seem a simple find &amp; replace job, but since you need to introduce at least one use PHPUnit\Framework\TestCase line at the top of each one of your test classes, it&rsquo;s a boring and a little more than trivial task; also, upgrading it in a single big jump may not be feasible or prudent, especially in the case of open source or distributed libraries, where backward compatibility and support for old PHP versions must be ensured.">


<meta itemprop="dateModified" content="2017-09-12T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1303">



<meta itemprop="keywords" content="algatux,daniele,elviro,engineering,francesco,giacomo,jean,lorenzo,luca,mario-maraone,matteo,michele,nicola,salvatore-cordiano,sergio,simone-lazzaroni,vito,AES,AWS,Agile,Algorithms,Android,Angular,Artificial intelligence,Blog,C,CMake,Code reuse,Codemotion,Conferences,Continuous integration,DSL,Database,Design patterns,Docker,Doctrine,Encryption,English,Event driven,FacileHack,Filesystem,Functional programming,Fuse,Git,GitHub,GraphQL,HTTP,Hackathon,Hugo,Italiano,JSON,JVM,JWT,Java,Javascript,Kanban,Kotlin,MessagePack,Monad,MySQL,Networking,NewRelic,Node.js,OOP,OPCache,OSX,Objective-C,Open Source,PHP,PHP Coding standards,PHP internals,PSR,Python,REST,RSA,Rjindael,SOLID,Scrum,Security,Semantic versioning,Serverless,Signal,Software Crisis,Software Testing,Software complexity,Software testing,Static site,Structured programming,Swift,Symfony,TDD,Test coverage,Type First Development,UI,WebComponent,Websocket,Xcode,realpath_cache," />

        

        
        

        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/monokai-sublime.css">
        
        
        
        
            
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-22342495-1', 'auto');
ga('send', 'pageview');
</script>

        
    </head>
    <body>

        
        <div id="wrapper">

    
    
<header id="header">
    
        <h2><a href="/">Facile.it Engineering</i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/categories/">
                        
                            <i class="fa fa-folder-open-o">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/authors/">
                        
                            <i class="fa fa-pencil">&nbsp;</i>Authors
                    </a>
                </li>
            
                <li>
                    <a href="/ita/careers/">
                        
                            <i class="fa fa-briefcase">&nbsp;</i>Careers
                    </a>
                </li>
            
                <li>
                    <a href="/eng/who-we-are/">
                        
                            <i class="fa fa-users">&nbsp;</i>Who we are
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://engineering.facile.it">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:https://engineering.facile.it">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                
                                    <i class="fa fa-folder-open-o">&nbsp;</i>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/authors/">
                            <h3>
                                
                                    <i class="fa fa-pencil">&nbsp;</i>
                                
                                Authors
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/ita/careers/">
                            <h3>
                                
                                    <i class="fa fa-briefcase">&nbsp;</i>
                                
                                Careers
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/eng/who-we-are/">
                            <h3>
                                
                                    <i class="fa fa-users">&nbsp;</i>
                                
                                Who we are
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="https://engineering.facile.it/blog/eng/realpath-cache-is-it-all-php-opcache-s-fault/"><p>Is it all PHP OPCache&#39;s fault?</p></a>
                    </li>
                
                    <li>
                        <a href="https://engineering.facile.it/blog/eng/phpunit-upgrade-namespace/"><p>How to gradually upgrade toward PHPUnit 6 with namespaced classes</p></a>
                    </li>
                
                    <li>
                        <a href="https://engineering.facile.it/blog/eng/visual-debt-typehints/"><p>Why type hints and interfaces are not visual debt</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&text=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes&via=FacileIt_Engr" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&title=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&title=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&title=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
    <header>
    <div class="title">
        
            <h1><a href="https://engineering.facile.it/blog/eng/phpunit-upgrade-namespace/">How to gradually upgrade toward PHPUnit 6 with namespaced classes</a></h1>
            
        
        
        
        
    </div>
    <div class="meta">
        
            
        

        <time class="published" datetime='2017-09-12'>
            12 September 2017
        </time>

        
            <a href="/authors/jean/" class="author">
            
                <span class="name">Alessandro Lai</span>
                <img src="https://www.gravatar.com/avatar/5e9c1c380aa22f2df2f70be07ba35e90?d=404&amp;s=250" alt="Alessandro Lai avatar" />
            
            </a>
        

        
            <p>7 minute read</p>
        
    </div>
</header>


    


    

    

<p>In the latest months I wrote multiple times, in different projects, code migrating <strong>PHPUnit</strong> toward major <strong>version 6</strong>. This upgrade is harder than the previous one, since in this version it was introduced a big breaking change: <strong>all classes got (finally!) namespaced</strong>.</p>

<p>This means that any usage of those classes in your project needs to be updated. It may seem a simple find &amp; replace job, but since you need to introduce at least one <code>use PHPUnit\Framework\TestCase</code> line at the top of each one of your test classes, it&rsquo;s a boring and a little more than trivial task; also, <strong>upgrading it in a single big jump may not be feasible or prudent</strong>, especially in the case of open source or distributed libraries, where backward compatibility and support for old PHP versions must be ensured.</p>

<p>In this article I will explain which steps I applied during those migrations, highlighting the most frequent hiccups.</p>

<h2 id="the-easy-one-only-tests">The easy one: only tests</h2>

<p>To start with, you have to find all the <strong>usages of PHPUnit classes</strong> in your project: a simple search for every occurrence of the string <code>PHPUnit_</code> should be enough at the beginning. You should know that, in some recent versions previous to 6, PHPUnit delivers a <strong>forward compatibility</strong> layer; this means that some of the most extended classes in the library are present also in the namespaced version, so they can be used before upgrading to the fully namespaced version.</p>

<p>If you want to update a simple project, where the only usage of PHPUnit classes is to create tests, you are very lucky. You need to require at <strong>minimum PHPUnit 4.8.35 or 5.4.3</strong>, which includes the FC class <code>PHPUnit\Framework\TestCase</code> as an alias for <code>\PHPUnit_Framework_TestCase</code>.</p>

<p>You should choose the <strong>newest version as possible</strong>, and that depends on which minimum version of PHP you want to support: if you work with (at least) PHP 5.6, you can use PHPUnit 5, otherwise you&rsquo;re forced to use version 4.8.35. If you&rsquo;re working on a (open source) library that needs to support both, you can do this in your <code>composer.json</code>:</p>

<pre><code class="language-json">{
  &quot;require-dev&quot;: {
    &quot;phpunit/phpunit&quot;: &quot;^4.8.35|^5.4.0&quot;  
  }
}
</code></pre>

<p>In this way you can use both, and Composer will choose the most updated one, depending on which PHP version you are using; this is <strong>pretty useful for testing with a CI tool</strong> like Travis, since you should run your tests at least on the lowest and highest versions of PHP that you want to support.</p>

<p>Once you have required and installed the right version, the only modification that you need to do in your code is this one:</p>

<p>Before:</p>

<pre><code class="language-php">&lt;?php

class MyTest extends \PHPUnit_Framework_TestCase
{
    // ...
}
</code></pre>

<p>After:</p>

<pre><code class="language-php">&lt;?php

use PHPUnit\Framework\TestCase;

class MyTest extends TestCase
{
    // ...
}
</code></pre>

<h3 id="deprecations-of-phpunit-4">Deprecations of PHPUnit 4</h3>

<p>Depending on your codebase, you may be forced to do one last step: your tests may be <strong>using deprecated methods from PHPUnit 4</strong>, so you will need to fix those. Those issues are pretty easy to be found and fixed, because they will make your test fail when executed with PHPUnit 5. The full list of changes that may impact you are in the <a href="https://github.com/sebastianbergmann/phpunit/blob/5.7/ChangeLog-5.0.md#500---2015-10-02">changelog for version 5.0.0</a>, but the most notable ones are:</p>

<ul>
<li>you need to declare a whitelist in your <code>phpunit.xml</code> configuration file to collect tests coverage</li>
<li>you must drop any usage of the <code>assertSelectCount()</code>, <code>assertSelectRegExp()</code>, <code>assertSelectEquals()</code>, <code>assertTag()</code>, <code>assertNotTag()</code> assertions</li>
</ul>

<h2 id="the-bumpy-one-implementing-a-testlistener">The bumpy one: implementing a TestListener</h2>

<p>If in your project you extend other classes or interfaces from PHPUnit, you need to check which one. If we are talking about one of the following:</p>

<ul>
<li><code>\PHPUnit_Framework_Assert</code></li>
<li><code>\PHPUnit_Framework_AssertionFailedError</code></li>
<li><code>\PHPUnit_Framework_Test</code> (interface)</li>
<li><code>\PHPUnit_Framework_TestSuite</code></li>
</ul>

<p>&hellip; then your only requirement is to <strong>use at least PHPUnit 5.7.21</strong>. This means that you have to drop support to any PHP version older than 5.6, if you still support it (and you should!).</p>

<p>If, instead, you implement a <code>\PHPUnit_Framework_TestListener</code>, that may be a little trickier. The FC layer for that class is <strong>problematic</strong>, since it&rsquo;s an interface that has a lot of types applied to the methods&rsquo; arguments; this, combined with the fact that in PHP you cannot change the type of an argument when extending (see <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)">covariance and contravariance</a>), means that the FC class is nearly useless: <strong>you cannot be compatible with both</strong> <code>\PHPUnit_Framework_TestListener</code> and <code>\PHPUnit\Framework\TestListener</code> with the same class.</p>

<p>If you are working on a <strong>single project</strong>, you may just restrict the supported PHPUnit version and jump to the newest one while upgrading the listener too. But if you are working on a library, and you do not want to apply that restriction to your end users, it gets a little complicated.</p>

<p>In my case, while upgrading <code>facile-it/paraunit</code>, I preferred <a href="https://github.com/facile-it/paraunit/issues/54#issuecomment-302906556">jumping from supporting 4.x/5.x directly to 6.x</a>; Paraunit works directly on top of PHPUnit, and it works the same before and after this update (apart from new features), so <strong>dropping the old versions altogether</strong> seemed a good enough approach for me.</p>

<p>In other cases, the listener is just provided as an additional help of the main library, so <strong>forcing the end user</strong> to update his version of PHPUnit alongside with our library could be <strong>too harsh</strong> or slow down the adoption of the new release. I tried doing this on <a href="https://github.com/FriendsOfSymfony/FOSHttpCache/pull/365">with a pull reques on <code>friendsofsymfony/http-cache</code></a>, where I had to solve this specific issue. The <strong>only feasible solution</strong> that I&rsquo;ve found is this <a href="https://github.com/symfony/phpunit-bridge/blob/3c0efb8609a32890a767bbbd39198a0e92572694/SymfonyTestsListener.php#L19">specific snippet of code</a>, that it was used in <code>symfony/phpunit-bridge</code> to overcome the same problem:</p>

<pre><code class="language-php">if (
    class_exists('PHPUnit_Runner_Version') 
    &amp;&amp; version_compare(\PHPUnit_Runner_Version::id(), '6.0.0', '&lt;')
) {
    class_alias('Legacy\MyTestListener', 'MyTestListener');
// Using an early return instead of a else does not work 
// when using the PHPUnit phar due to some weird PHP behavior 
// (the class gets defined without executing the code before it 
// and so the definition is not properly conditional)
} else {
    class MyTestListener extends BaseTestListener
    {
        // ...
    }
}
</code></pre>

<p>This approach is based on writing two versions of the listener, one (inside a <code>legacy</code> subfolder) which implements the old interface, the other that implements the new, namespaced one. With the above snippet, PHP is tricked into loading the right one, after checking if the loaded version of PHPUnit is lower than 6.0. In this way <strong>the end user can ignore the difference between the two classes</strong>, use only the new class name and go on, since they will be switched in a hidden and automatic way.
Once support for the old PHP and PHPUnit versions is dropped, this trick can be dropped too.</p>

<h2 id="the-next-step-from-5-to-6">The next step: from 5 to 6</h2>

<p>Once all this migration is completed, and all the tests are green under all needed conditions, we can plan for the next step, <strong>upgrading to PHPUnit 6</strong>. In reality, this step depends on a bigger, previous step: <strong>migrate to PHP 7</strong>, because lower versions are no longer supported with PHPUnit 6.</p>

<p>When your project is ready for PHP 7, you can require the installation of PHPUnit 6; if you are working on a library that wants to support PHP 5.6 too, you can use the same trick as above in your <code>composer.json</code>:</p>

<pre><code class="language-json">{
  &quot;require-dev&quot;: {
    &quot;phpunit/phpunit&quot;: &quot;^5.4.0|^6.0&quot;  
  }
}
</code></pre>

<p>&hellip; so you&rsquo;ll be using PHPUnit 5 under PHP 5.6, and 6 with PHP 7.0+. As before, you need to check that your tests are still passing, and avoid using any functionality that is deprecated in PHPUnit 5. You can find the full list in the <a href="https://github.com/sebastianbergmann/phpunit/blob/6.0/ChangeLog-6.0.md#600---2017-02-03">PHPUnit changelog for 6.0.0</a>, but the most notable are:</p>

<ul>
<li><code>getMock()</code> must be replaced with <code>createMock()</code></li>
<li>usages of <code>getMockWithoutInvokingTheOriginalConstructor()</code> are no longer needed, it&rsquo;s the default behavior now</li>
<li>if you intervene on global variables, it&rsquo;s better to enable the <code>--globals-backup</code> option, to save and restore them between tests (previously it was the default behavior)</li>
<li><code>setExpectedException()</code> must be replaced:</li>
</ul>

<pre><code class="language-php">// before
$this-&gt;setExpectedException(Exception::class, $message);
// after
$this-&gt;expectException(Exception::class);
$this-&gt;expectExceptionMessage($message);
</code></pre>

<p>And that&rsquo;s all! I hope to make you save enough time and migraines with this little guide. Happy coding!</p>


    <section id="social-share">
        <ul class="icons">
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&text=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes&via=FacileIt_Engr" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&title=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&title=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f&title=How%20to%20gradually%20upgrade%20toward%20PHPUnit%206%20with%20namespaced%20classes" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fengineering.facile.it%2fblog%2feng%2fphpunit-upgrade-namespace%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
    <footer>
        <ul class="stats">
    

    
        
            <li>
                
                    <i class="fa fa-folder-open-o">&nbsp;</i>
                
        

                
                    Categories
                
            </li>
    

    
        <li><a href="/categories/english/">English</a></li>
    
        <li><a href="/categories/php/">PHP</a></li>
    
        <li><a href="/categories/software-testing/">Software testing</a></li>
    
</ul>

    </footer>
</article>
<ul class="actions pagination">
    
        <li><a href="https://engineering.facile.it/blog/eng/visual-debt-typehints/"
                class="button big previous">Why type hints and interfaces are not visual debt</a></li>
    

    
        <li><a href="https://engineering.facile.it/blog/eng/realpath-cache-is-it-all-php-opcache-s-fault/"
                class="button big next">Is it all PHP OPCache&#39;s fault?</a></li>
    
</ul>



    
        <article class="post">
            

<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.url = "https://engineering.facile.it/blog/eng/phpunit-upgrade-namespace/";
        this.page.identifier = "https://engineering.facile.it/blog/eng/phpunit-upgrade-namespace/";
        this.page.title = "How to gradually upgrade toward PHPUnit 6 with namespaced classes";
    };

    (function () {
        var d = document, s = d.createElement('script');

        s.src = '//facile-it.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



        </article>
    


    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <a href="/" style="border-bottom: none"><img src="/images/logo_engineering.png" width="100%" alt="Facile.it Engineering" /></a>
                
            
            
                <header>
                    <h2></h2>
                    <p>News, repos, tips & trends from the Facile.it Engineering team!</p>
                </header>
            
            
                <ul class="icons">
                    
<li><a href="//github.com/facile-it" target="_blank" title="GitHub" class="fa fa-github"></a></li>



<li><a href="//twitter.com/FacileIt_Engr" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>





<li><a href="//linkedin.com/company/facile-it" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



<li><a href="//facebook.com/facile.it" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>



<li><a href="//youtube.com/user/Facileit" target="_blank" title="YouTube" class="fa fa-youtube"></a></li>














































                </ul>
            
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                    
                                        
                                            <img src="https://www.gravatar.com/avatar/84febdc35f5438ae1d2500482e2228fa" alt="Salvatore Cordiano avatar" style="float:right; border-radius: 100%; display: block; width: 2.5em; margin-left:1em;"/>
                                        
                                    

                                    <h3><a href="https://engineering.facile.it/blog/eng/realpath-cache-is-it-all-php-opcache-s-fault/">Is it all PHP OPCache&#39;s fault?</a></h3>

                                    
                                        
                                    
                                    <time class="published" datetime='2017-10-04'>
                                        4 October 2017
                                    </time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                    
                                        
                                            <img src="https://www.gravatar.com/avatar/5e9c1c380aa22f2df2f70be07ba35e90?d=404&amp;s=250" alt="Alessandro Lai avatar" style="float:right; border-radius: 100%; display: block; width: 2.5em; margin-left:1em;"/>
                                        
                                    

                                    <h3><a href="https://engineering.facile.it/blog/eng/phpunit-upgrade-namespace/">How to gradually upgrade toward PHPUnit 6 with namespaced classes</a></h3>

                                    
                                        
                                    
                                    <time class="published" datetime='2017-09-12'>
                                        12 September 2017
                                    </time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                    
                                        
                                            <img src="https://www.gravatar.com/avatar/5e9c1c380aa22f2df2f70be07ba35e90?d=404&amp;s=250" alt="Alessandro Lai avatar" style="float:right; border-radius: 100%; display: block; width: 2.5em; margin-left:1em;"/>
                                        
                                    

                                    <h3><a href="https://engineering.facile.it/blog/eng/visual-debt-typehints/">Why type hints and interfaces are not visual debt</a></h3>

                                    
                                        
                                    
                                    <time class="published" datetime='2017-05-31'>
                                        31 May 2017
                                    </time>
                            </header>
                        </article>
                    </li>
                

                
                    <li>
                        <ul class="actions">
                            <li><a href=
                            
                                /blog/
                            
                            class="button">View more posts</a></li>
                        </ul>
                    </li>
                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Top categories</a></h3>
                </header>

                

                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/italiano/">Italiano</a>
                                <span style="float:right;">34</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/english/">English</a>
                                <span style="float:right;">27</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/php/">PHP</a>
                                <span style="float:right;">19</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/conferences/">Conferences</a>
                                <span style="float:right;">10</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/functional-programming/">Functional programming</a>
                                <span style="float:right;">10</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/swift/">Swift</a>
                                <span style="float:right;">8</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/open-source/">Open Source</a>
                                <span style="float:right;">5</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                    <li>
                        <article>
                            <header>
                                <a href="/categories/software-testing/">Software testing</a>
                                <span style="float:right;">5</span>
                            </header>
                        </article>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <li>
                    <ul class="actions">
                        <li><a href="/categories"
                            class="button">View more categories</a></li>
                    </ul>
                </li>
            </ul>
        </section>
    

    
        

    
        <section id="footer">
            
                <ul class="icons">
                    
<li><a href="//github.com/facile-it" target="_blank" title="GitHub" class="fa fa-github"></a></li>



<li><a href="//twitter.com/FacileIt_Engr" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>





<li><a href="//linkedin.com/company/facile-it" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



<li><a href="//facebook.com/facile.it" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>



<li><a href="//youtube.com/user/Facileit" target="_blank" title="YouTube" class="fa fa-youtube"></a></li>














































                </ul>
            

            <p class="copyright">
                &copy; <a href="http://www.facile.it/" target="_blank">Facile.it</a> Engineering, leggi <a href="/ita/chi-siamo/" target="_blank">chi siamo</a><br>
                <a href="/ita/disclaimer/" rel="nofollow">Disclaimer</a><br>
                Design <a href="http://html5up.net" rel="nofollow" target="_blank">HTML5 UP</a><br>
                Ported by <a href="//github.com/jpescador" rel="nofollow" target="_blank">Julio Pescador</a><br>
                Modified by <a href="//github.com/Jean85" rel="nofollow" target="_blank">Alessandro Lai</a><br>
                Powered by <a href="//gohugo.io" rel="nofollow" target="_blank">Hugo</a>
            </p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        
        

        
            <script type="text/javascript" src="/js/jquery.min.js"></script>
            <script type="text/javascript" src="/js/skel.min.js"></script>
            <script type="text/javascript" src="/js/util.js"></script>
            <script type="text/javascript" src="/js/main.js"></script>
            <script type="text/javascript" src="/js/backToTop.js"></script>
            <script type="text/javascript" src="/js/highlight.pack.js"></script>
            <script type="text/javascript" src="/js/jquery-lazy/jquery.lazy.min.js"></script>
        
            
            <script type="text/javascript">
                hljs.initHighlightingOnLoad();
                $(function() {
                    $('.lazy').Lazy();
                });
            </script>
            
    </body>
</html>

